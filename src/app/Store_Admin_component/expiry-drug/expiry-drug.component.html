<div style="display: flex; align-items: center; gap: 10px;">
  <!-- Search Input -->
  <mat-form-field appearance="outline">
    <mat-label>Search</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="Search for drugs">
  </mat-form-field>

  <!-- Low Stock Button -->
  <button mat-raised-button color="accent" routerLink="../low-stock" >Low Stock</button>

  <!-- Expiry Button -->
  <button mat-raised-button color="warn" routerLink="../expiry-stock">Expiry</button>
  <button mat-raised-button color="accent" routerLink="../Expiry-Pending" >Expiry Replace Pending</button>

  <!-- Expiry Button -->
  <button mat-raised-button color="warn" routerLink="../Expiry-Accepted">Expiry Replace Accepted</button>
  <button mat-raised-button color="warn" routerLink="../Expiry-Rejected">Scrap</button>
</div>


<!-- Table for displaying drug data -->
<table mat-table [dataSource]="dataSource" matSort>

  <!-- Drug Name Column -->
  <ng-container matColumnDef="drugName">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Drug Name</th>
    <td mat-cell *matCellDef="let element">{{ element.drugName }}</td>
  </ng-container>

  <!-- Drug Code Column -->
  <ng-container matColumnDef="drugCode">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Drug Code</th>
    <td mat-cell *matCellDef="let element">{{ element.drugCode }}</td>
  </ng-container>

  <!-- Batch Number Column -->
  <ng-container matColumnDef="batchNumber">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Batch Number</th>
    <td mat-cell *matCellDef="let element">{{ element.batchNumber }}</td>
  </ng-container>

  <!-- Expiry Date Column -->
  <ng-container matColumnDef="expiryDate">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Expiry Date</th>
    <td mat-cell *matCellDef="let element">{{ element.expiryDate | date }}</td>
  </ng-container>
  <ng-container matColumnDef="perStripPrice">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>perStripPrice</th>
    <td mat-cell *matCellDef="let element">{{ element.perStripPrice}}</td>
  </ng-container>
  <ng-container matColumnDef="strip">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>strip</th>
    <td mat-cell *matCellDef="let element">{{ element.strip }}</td>
  </ng-container>

  <!-- Stock Column -->
  <ng-container matColumnDef="stock">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Stock</th>
    <td mat-cell *matCellDef="let element">{{ element.stock }}</td>
  </ng-container>

  <!-- Price Column -->
  <ng-container matColumnDef="price">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Price</th>
    <td mat-cell *matCellDef="let element">{{ element.strip*element.perStripPrice}}</td>
  </ng-container>

  <!-- Supplier Name Column -->
  <ng-container matColumnDef="supplierName">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Supplier Name</th>
    <td mat-cell *matCellDef="let element">{{ element.supplierName }}</td>
  </ng-container>

  <!-- Contact Number Column -->
  <ng-container matColumnDef="contactNumber">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Contact Number</th>
    <td mat-cell *matCellDef="let element">{{ element.contactNumber }}</td>
  </ng-container>

  <!-- Cancel Collection Column (New) -->
  <ng-container matColumnDef="cancelCollection">
    <th mat-header-cell *matHeaderCellDef>Action</th>
    <td mat-cell *matCellDef="let element">
      <button mat-raised-button color="warn" (click)="cancelCollection(element)">Cancel Collection</button>
    </td>
  </ng-container>

  <!-- Table Headers and Rows -->
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<!-- Paginator -->
<mat-paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 25]" showFirstLastButtons></mat-paginator>
